" .vimperatorrc for Vimperator 2.0

echo 'Loading .vimperatorrc ...'

" Log echoes to error console "{{{1
javascript <<EOM
let (echo_old = liberator.echo) {
   liberator.echo = function(str, flags) {
      liberator.log("echo: " + str, 0);
      return echo_old(str, flags);
   }
}

let (echoerr_old = liberator.echoerr) {
   liberator.echoerr = function(str, flags) {
      liberator.log("echoerr: " + str, 0);
      return echoerr_old(str, flags);
   }
}

let (echomsg_old = liberator.echomsg) {
   liberator.echomsg = function(str, flags) {
      liberator.log("echomsg: " + str, 0);
      return echomsg_old(str, flags);
   }
}
EOM

" Mappings "{{{1
" For normal mode "{{{2

"sets search highlighting
"also...incremental search!
set hls
set incsearch

" For US keyboard
noremap ; :

" Scroll settings
noremap j 5j
noremap k 5k
noremap w 5h
noremap e 5l
noremap J <C-f>
noremap K <C-b>

" Go to the next/previous tab
noremap h <C-p>
noremap l <C-n>

" Move the current tab
noremap ,h <Esc>:tabmove! -1<CR>
noremap ,l <Esc>:tabmove! +1<CR>

" Disable some mappings
noremap gh <Nop>
noremap a <Nop>

" For comand mode "{{{2
cnoremap <C-b> <Left>
cnoremap <C-f> <Right>
cnoremap <C-p> <S-Tab>
cnoremap <C-n> <Tab>
cnoremap <C-j> <NOP>

" For insert mode "{{{2
inoremap <C-b> <Left>
inoremap <C-f> <Right>
inoremap <C-p> <Up>
inoremap <C-n> <Down>
inoremap <C-m> <Enter>

" Options "{{{1
set activate=homepage,quickmark,tabopen,paste
set complete=l
set focuscontent
set hinttimeout=500
set newtab=all
set visualbell
highlight Bell display:none
let mapleader=','
set! ui.key.generalAccessKey=0

source! ~/.vimperatorrc.local

" vim: set ft=vimperator:
